!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r():"function"==typeof define&&define.amd?define(r):r()}(0,function(){"use strict";function e(r){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}function r(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function t(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";if(r&&"object"!==e(r))throw new Error("Cant convert hash-to-array because hash was not passed in: "+r);var n=Object.assign({},r),o=[];return Object.keys(n).forEach(function(r){var a="object"===e(n[r])?n[r]:{value:n[r]},s=Object.assign({},a);s[t]=r,o.push(s)}),o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.hashToArray=t,exports.flatten=function e(r){return r.reduce(function(r,t){return r.concat(Array.isArray(t)?e(t):t)},[])},exports.arrayToHash=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";if(!Array.isArray(e))throw new Error("arrayToHash: input was not an array!");return e.reduce(function(e,n){var o=Object.assign({},n);return delete o[t],1===Object.keys(o).length&&o.value?Object.assign({},e,r({},n[t],o.value)):Object.assign({},e,r({},n[t],o))},new Object)},exports.snapshotToArray=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return t(e.val()||{},r)},exports.snapshotToHash=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",o=t.val()||{};return Object.keys(o).forEach(function(t){var a;return"object"===e(o[t])?o[t][n]=t:o[t]=(r(a={},n,t),r(a,"value",o[t]),a)}),o},exports.snapshotToOrderedArray=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",o=[];return t.forEach(function(t){var a=t.val(),s=t.key;if("object"!==e(a))throw new Error("Can't create a list from scalar values: \"".concat(a,'" | "').concat(s,'"'));return o.push(Object.assign(r({},n,s),a)),!0}),o},exports.snapshotToOrderedHash=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",t=this.snapshotToOrderedArray(e,r);return this.arrayToHash(t)}});
//# sourceMappingURL=typed-conversions.min.js.map
